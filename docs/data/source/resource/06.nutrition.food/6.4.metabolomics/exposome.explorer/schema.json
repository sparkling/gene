{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://gene.taxonomy/schemas/exposome-explorer",
  "title": "Exposome-Explorer Association Record",
  "description": "JSON Schema for Exposome-Explorer biomarker-exposure association data",
  "type": "object",
  "properties": {
    "association_id": {
      "type": "integer",
      "description": "Unique association record identifier"
    },
    "biomarker": {
      "type": "object",
      "description": "Biomarker information",
      "properties": {
        "biomarker_id": {"type": "integer"},
        "biomarker_name": {"type": "string"},
        "pubchem_cid": {"type": ["integer", "null"]},
        "hmdb_id": {"type": ["string", "null"]},
        "chebi_id": {"type": ["string", "null"]},
        "cas_number": {"type": ["string", "null"]},
        "molecular_formula": {"type": ["string", "null"]},
        "biomarker_type": {"type": "string"}
      },
      "required": ["biomarker_id", "biomarker_name"]
    },
    "exposure": {
      "type": "object",
      "description": "Exposure factor information",
      "properties": {
        "exposure_id": {"type": "integer"},
        "exposure_name": {"type": "string"},
        "exposure_category": {
          "type": "string",
          "enum": ["Dietary", "Environmental", "Lifestyle", "Occupational"]
        },
        "exposure_subcategory": {"type": ["string", "null"]},
        "food_group": {"type": ["string", "null"]}
      },
      "required": ["exposure_id", "exposure_name", "exposure_category"]
    },
    "specimen_type": {
      "type": "string",
      "description": "Biological sample type",
      "enum": ["plasma", "serum", "urine", "whole_blood", "erythrocytes", "adipose", "hair", "nails"]
    },
    "association_type": {
      "type": "string",
      "description": "Type of statistical association",
      "enum": ["positive", "negative", "correlation", "none"]
    },
    "effect_size": {
      "type": ["number", "null"],
      "description": "Magnitude of association (correlation coefficient, OR, etc.)"
    },
    "effect_unit": {
      "type": ["string", "null"],
      "description": "Type of effect measure",
      "examples": ["Pearson correlation", "Spearman correlation", "Odds ratio"]
    },
    "p_value": {
      "type": ["number", "null"],
      "description": "Statistical significance"
    },
    "confidence_interval": {
      "type": ["string", "null"],
      "description": "95% confidence interval"
    },
    "sample_size": {
      "type": ["integer", "null"],
      "description": "Study sample size"
    },
    "population": {
      "type": ["string", "null"],
      "description": "Study population description"
    },
    "study_type": {
      "type": ["string", "null"],
      "description": "Study design",
      "enum": ["cross-sectional", "cohort", "intervention", "case-control", null]
    },
    "reference": {
      "type": "object",
      "description": "Publication reference",
      "properties": {
        "reference_id": {"type": "integer"},
        "pubmed_id": {"type": ["integer", "null"]},
        "doi": {"type": ["string", "null"]},
        "authors": {"type": "string"},
        "year": {"type": "integer"},
        "title": {"type": "string"},
        "journal": {"type": ["string", "null"]}
      }
    }
  },
  "required": ["association_id", "biomarker", "exposure", "specimen_type"],
  "additionalProperties": true
}
